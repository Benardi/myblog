

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.54.0 with theme Tranquilpeak 0.4.3-BETA">
    <title>C.E.A.P analysis (suppliers and weekend expenses)</title>
    <meta name="author" content="Benardi Nunes">
    <meta name="keywords" content="">

    <link rel="icon" href="../../../favicon.png">
    

    
    <meta name="description" content="This exploratory data analysis was made based on data provided by the Brazilian government  about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity) in terms of suppliers and weekend expenses.">
    <meta property="og:description" content="This exploratory data analysis was made based on data provided by the Brazilian government  about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity) in terms of suppliers and weekend expenses.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="C.E.A.P analysis (suppliers and weekend expenses)">
    <meta property="og:url" content="/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
    <meta property="og:site_name" content="Me &#43; coffe &#43; data : a love ∆">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Me &#43; coffe &#43; data : a love ∆">
    <meta name="twitter:description" content="This exploratory data analysis was made based on data provided by the Brazilian government  about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity) in terms of suppliers and weekend expenses.">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="../../../css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="../../../">Me &#43; coffe &#43; data : a love ∆</a>
  </div>
  
    
      <a class="header-right-picture "
         href="../../../#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="../../../#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Benardi Nunes</h4>
        
          <h5 class="sidebar-profile-bio"><strong>I&rsquo;ve been using Data Science to justify my coffe addiction.</strong></h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/Benardi" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/9077439/jos%C3%A9-benardi" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      C.E.A.P analysis (suppliers and weekend expenses)
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-09-06T00:00:00Z">
        
  September 6, 2018

      </time>
    
    
  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              


<p><br></p>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p><br></p>
<blockquote>
<p>This exploratory data analysis was made based on data provided by the Brazilian government about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity). More information about it (in Portuguese) can be found in its <a href="http://www2.camara.leg.br/transparencia/acesso-a-informacao/copy_of_perguntas-frequentes/cota-para-o-exercicio-da-atividade-parlamentar">official site</a></p>
</blockquote>
<p><br></p>
<hr />
<p><br></p>
</div>
<div id="data-overview" class="section level1">
<h1>Data Overview</h1>
<pre class="r"><code>data &lt;- read_csv(here::here(&quot;evidences/dadosCEAP.csv&quot;),
                 progress = F,
                 col_types = cols(
                   nomeParlamentar = col_character(),
                   idCadastro = col_integer(),
                   sgUF = col_character(),
                   sgPartido = col_character(),
                   tipoDespesa = col_character(),
                   especDespesa = col_character(),
                   fornecedor = col_character(),
                   CNPJCPF = col_character(),
                   tipoDocumento = col_integer(),
                   dataEmissao = col_character(),
                   valorDocumento = col_double(),
                   valorGlosa = col_integer(),
                   valorLíquido = col_double())) 

data %&gt;% 
  mutate(dataEmissao = parse_date_time(dataEmissao,&quot;%Y-%m-%d %H:%M:%S&quot;),
         year_month = paste(lubridate::year(dataEmissao),   # extract year
                            lubridate::month(dataEmissao),  # extract month
                            sep = &quot;-&quot;),
         tipoDespesa = toupper(tipoDespesa)) -&gt; data

state_info &lt;- read_csv(here::here(&quot;/evidences/limiteMensalCEAP.csv&quot;),
                       progress = F,
                       col_types = cols(
                         UF = col_character(),
                         limite_mensal = col_double()))

data %&gt;% 
  full_join(state_info,
            by = c(&quot;sgUF&quot; = &quot;UF&quot;)) -&gt; data

data %&gt;%
  glimpse()</code></pre>
<pre><code>## Observations: 963,452
## Variables: 15
## $ nomeParlamentar &lt;chr&gt; &quot;ABEL MESQUITA JR.&quot;, &quot;ABEL MESQUITA JR.&quot;, &quot;ABEL …
## $ idCadastro      &lt;int&gt; 178957, 178957, 178957, 178957, 178957, 178957, …
## $ sgUF            &lt;chr&gt; &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, &quot;RR&quot;, …
## $ sgPartido       &lt;chr&gt; &quot;DEM&quot;, &quot;DEM&quot;, &quot;DEM&quot;, &quot;DEM&quot;, &quot;DEM&quot;, &quot;DEM&quot;, &quot;DEM&quot;,…
## $ tipoDespesa     &lt;chr&gt; &quot;MANUTENÇÃO DE ESCRITÓRIO DE APOIO À ATIVIDADE P…
## $ especDespesa    &lt;chr&gt; NA, NA, NA, NA, NA, &quot;Veículos Automotores&quot;, &quot;Veí…
## $ fornecedor      &lt;chr&gt; &quot;COMPANHIA DE AGUAS E ESGOTOS DE RORAIMA&quot;, &quot;COMP…
## $ CNPJCPF         &lt;chr&gt; &quot;05939467000115&quot;, &quot;05939467000115&quot;, &quot;02341470000…
## $ tipoDocumento   &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ dataEmissao     &lt;dttm&gt; 2015-11-14, 2015-12-10, 2015-11-27, 2015-12-30,…
## $ valorDocumento  &lt;dbl&gt; 165.65, 59.48, 130.95, 196.53, 310.25, 32.00, 50…
## $ valorGlosa      &lt;int&gt; 0, 0, 0, 347, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ valorLíquido    &lt;dbl&gt; 165.65, 59.48, 130.95, 193.06, 310.25, 32.00, 50…
## $ year_month      &lt;chr&gt; &quot;2015-11&quot;, &quot;2015-12&quot;, &quot;2015-11&quot;, &quot;2015-12&quot;, &quot;201…
## $ limite_mensal   &lt;dbl&gt; 45612.53, 45612.53, 45612.53, 45612.53, 45612.53…</code></pre>
<p><br></p>
<pre class="r"><code>read_tsv(here::here(&quot;evidences/trsl_expenses.tsv&quot;),
         progress = F,
         col_types = cols(
           original_term = col_character(),
           translation = col_character())) -&gt; trsltd_expenses

trsltd_expenses</code></pre>
<pre><code>## # A tibble: 18 x 2
##    original_term                      translation                          
##    &lt;chr&gt;                              &lt;chr&gt;                                
##  1 MANUTENÇÃO DE ESCRITÓRIO DE APOIO… MAINTENANCE OF OFFICE TO SUPPORT PAR…
##  2 COMBUSTÍVEIS E LUBRIFICANTES.      FUELS AND LUBRICANTS.                
##  3 CONSULTORIAS, PESQUISAS E TRABALH… CONSULTANCIES, RESEARCH AND TECHNICA…
##  4 DIVULGAÇÃO DA ATIVIDADE PARLAMENT… DIVULGATION OF PARLIAMENTARY ACTIVIT…
##  5 SERVIÇO DE SEGURANÇA PRESTADO POR… SECURITY SERVICE PROVIDED BY SPECIAL…
##  6 PASSAGENS AÉREAS                   AIRLINE TICKETS                      
##  7 SERVIÇOS POSTAIS                   POSTAL SERVICES                      
##  8 FORNECIMENTO DE ALIMENTAÇÃO DO PA… SUPPLY OF FOOD FOR PARLIAMENTARIAN   
##  9 TELEFONIA                          TELEPHONY                            
## 10 LOCAÇÃO OU FRETAMENTO DE VEÍCULOS… LEASING OR FREIGHTING OF AUTOMOTIVE …
## 11 LOCAÇÃO OU FRETAMENTO DE EMBARCAÇ… LEASING OR FREIGHTING OF VESSELS     
## 12 SERVIÇO DE TÁXI, PEDÁGIO E ESTACI… TAXI SERVICE, TOLL AND PARKING       
## 13 EMISSÃO BILHETE AÉREO              AIR TICKET ISSUANCE                  
## 14 HOSPEDAGEM ,EXCETO DO PARLAMENTAR… ACCOMMODATION, EXCEPT OF THE PARLIAM…
## 15 LOCAÇÃO OU FRETAMENTO DE AERONAVES LEASING OR FREIGHTING OF AIRCRAFT    
## 16 PASSAGENS TERRESTRES, MARÍTIMAS O… TERRESTRIAL,MARITIME OR FLUVAL TICKE…
## 17 ASSINATURA DE PUBLICAÇÕES          SUBSCRIPTION TO PUBLICATIONS         
## 18 PARTICIPAÇÃO EM CURSO, PALESTRA O… PARTICIPATION IN COURSE, CONFERENCE …</code></pre>
<ul>
<li>A translation for the description of each one of the 18 types of expense was recorded alongside its original term.</li>
</ul>
<p><br></p>
<pre class="r"><code>data %&gt;% 
  full_join(trsltd_expenses,
            by = c(&quot;tipoDespesa&quot; = &quot;original_term&quot;))  %&gt;% 
  mutate(tipoDespesa = translation) %&gt;%  # translate col tipoDespesa 
  select(-translation)-&gt; data # drop unused column

data %&gt;%
  sample_n(5) %&gt;%
  select(nomeParlamentar,
         tipoDespesa,
         dataEmissao)</code></pre>
<pre><code>## # A tibble: 5 x 3
##   nomeParlamentar    tipoDespesa                        dataEmissao        
##   &lt;chr&gt;              &lt;chr&gt;                              &lt;dttm&gt;             
## 1 HERÁCLITO FORTES   AIR TICKET ISSUANCE                2015-12-19 00:00:00
## 2 LUIZ LAURO FILHO   SUPPLY OF FOOD FOR PARLIAMENTARIAN 2015-10-12 00:00:00
## 3 MIGUEL HADDAD      AIR TICKET ISSUANCE                2015-09-25 00:00:00
## 4 JOSÉ AIRTON CIRILO AIR TICKET ISSUANCE                2016-01-21 00:00:00
## 5 ALICE PORTUGAL     AIR TICKET ISSUANCE                2015-10-28 00:00:00</code></pre>
<ul>
<li>We now have each term in the column tipoDespesa translated.</li>
</ul>
<p><br></p>
<pre class="r"><code>data %&gt;%
  mutate(week_day = wday(dataEmissao), # extract week day
         is_weekend = (week_day == 1) |  # deduce whether it&#39;s a weekend
                         (week_day == 7)) -&gt; data

data %&gt;%
  select(dataEmissao,
         week_day,
         is_weekend) %&gt;%
  sample_n(5)</code></pre>
<pre><code>## # A tibble: 5 x 3
##   dataEmissao         week_day is_weekend
##   &lt;dttm&gt;                 &lt;dbl&gt; &lt;lgl&gt;     
## 1 2016-08-12 00:00:00        6 FALSE     
## 2 2015-04-22 00:00:00        4 FALSE     
## 3 2017-02-23 00:00:00        5 FALSE     
## 4 2017-07-14 00:00:00        6 FALSE     
## 5 2016-10-21 00:00:00        6 FALSE</code></pre>
<ul>
<li>Once we extracted which day of the week the emission was made we simply deduced whether it was a weekend or not.</li>
</ul>
<p><br></p>
<pre class="r"><code>data %&gt;%
  na.omit(year_month) %&gt;% 
  group_by(year_month) %&gt;%     # times used
  summarize(total = n()) %&gt;%   # by year/month
  ggplot(aes(year_month, total)) +
  geom_point() +
  theme(axis.text.x = element_text(angle = 60,
                                   hjust = 1)) +
  labs(x=&quot;Year and month&quot;, y=&quot;Absolute Frequency&quot;)</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<ul>
<li>The period of time covered by the dataset is of about 3 years which amounts to the duration of our parliamentarian’s office minus the 120 days prior to the election.</li>
</ul>
<p><br></p>
<pre class="r"><code>data %&gt;%
  group_by(idCadastro,
           nomeParlamentar) %&gt;%
  slice(1) %&gt;% # keep one entry for parliamentarian
  ungroup() %&gt;%
  group_by(sgPartido) %&gt;%              # calc parliamentarian  
  summarize(num_parliament = n()) %&gt;%  # by party
  na.omit() %&gt;%
  ggplot(aes(reorder(sgPartido,
                     num_parliament),
             num_parliament)) +
  geom_bar(stat=&quot;identity&quot;) + 
  labs(x=&quot;Political parties&quot;,
       y=&quot;Number of parliamentarians&quot;) +
  theme(axis.text.x = element_text(angle = 60,
                                   hjust = 1))</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ul>
<li>We can see that <strong>PMDB</strong> detains the majority of offices followed closely by <strong>PT</strong> and that <strong>PSDB</strong> is still a major player. This was to be expected as the aforementioned parties are often regarded as the most prominent ones in the Brazilian political scene.</li>
</ul>
<p><br></p>
<hr />
<p><br></p>
</div>
<div id="expenditure-during-the-week-and-the-weekends" class="section level1">
<h1>Expenditure during the week and the weekends</h1>
<p><br></p>
<pre class="r"><code>data %&gt;%
   mutate(month = lubridate::month(dataEmissao)) %&gt;%  # extract month
  na.omit(week_day,month) %&gt;% 
  group_by(week_day,month) %&gt;% # times used
  summarize(total = sum(valorLíquido)) %&gt;%  # by day of week / month 
  tidyr::spread(key= week_day, value=total, 
                fill = 0) %&gt;%
  select(-month) %&gt;% data.matrix() -&gt; matrix_yearly

colnames(matrix_yearly) &lt;- c(&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tue&quot;,&quot;Wed&quot;,&quot;Thu&quot;,&quot;Fri&quot;,&quot;Sat&quot;)

x.scale &lt;- list(at=seq(from=1,to=12,by=1))

levelplot(matrix_yearly, 
          col.regions=heat.colors,
          scales=list(x=x.scale),
          main=&quot;Total expenditure across days of the week&quot;,
          xlab=&quot;month of the year&quot;, ylab= &quot;week day&quot;)</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<ul>
<li>Overall we can see a clear predominance of expenditures during the week as both <strong>saturday</strong> and <strong>sunday</strong> have a smaller total expenditure across the whole year.
<ul>
<li>It was to be expected, as CEAP is meant to be used to pay for work related expenses.</li>
</ul></li>
</ul>
<p><br></p>
<pre class="r"><code>data %&gt;%
  group_by(is_weekend,sgPartido) %&gt;%
  summarize(total_cost = sum(valorLíquido)) %&gt;%
  na.omit(is_weekend) -&gt; party_expense

party_expense %&gt;%
  ungroup() %&gt;%
  sample_n(5)</code></pre>
<pre><code>## # A tibble: 5 x 3
##   is_weekend sgPartido total_cost
##   &lt;lgl&gt;      &lt;chr&gt;          &lt;dbl&gt;
## 1 TRUE       PODE         985047.
## 2 FALSE      SD         14996297.
## 3 TRUE       REDE         189057.
## 4 FALSE      PSDB       49267589.
## 5 TRUE       PRTB          13512.</code></pre>
<ul>
<li>Now we have the total cost incurred by each party during the week and during the weekend.</li>
</ul>
<p><br></p>
<pre class="r"><code>ggplot(data= party_expense,
       aes(reorder(sgPartido,
                     total_cost),
             total_cost,
             fill=is_weekend)) +
  geom_bar(data=subset(party_expense,
                       !is_weekend),
           stat = &quot;identity&quot;) + 
  geom_bar(data=subset(party_expense,
                       is_weekend),
           aes(y=-total_cost),
           stat = &quot;identity&quot;) +
  coord_flip() +
   labs(x=&quot;Political parties&quot;,
        y=&quot;Total expenditure (R$)&quot;)</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<ul>
<li>Across different political parties the strong predominance of expenditures during the week holds.
<ul>
<li>PMDB is the biggest spender.</li>
</ul></li>
<li><strong>PMDB</strong>, <strong>PT</strong> and <strong>PSDB</strong> are the parties with the highest number of offices, therefore it’s reasonable that they are the ones to spend the most.</li>
</ul>
<p><br></p>
<div id="which-parties-spent-the-most-during-the-weekend" class="section level2">
<h2>Which parties spent the most during the weekend?</h2>
<pre class="r"><code>data %&gt;%
  filter(is_weekend) %&gt;%
  group_by(is_weekend,sgPartido) %&gt;%
  summarize(total_cost = sum(valorLíquido)) %&gt;%
  na.omit(is_weekend) %&gt;%
  ggplot(aes(reorder(sgPartido,
                     total_cost),
             total_cost)) +
  geom_bar(stat=&quot;identity&quot;,
           fill=&quot;#00BFC4&quot;) + 
  labs(x=&quot;Political parties&quot;,
       y=&quot;Total expenditure (R$)&quot;,
       title=&quot;Expenditures during the weekend&quot;) +
  theme(axis.text.x = element_text(angle = 60,
                                   hjust = 1))</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<ul>
<li><strong>PMDB</strong>, <strong>PT</strong> and <strong>PSDB</strong> are also the ones to spend the highest amount of money during the weekend.</li>
<li>Despite the fact that overall <strong>PMDB</strong> is the biggest spender (as seen before) <strong>PT</strong> spent the most during the weekend.</li>
</ul>
<blockquote>
<p><strong>PMDB</strong>, <strong>PT</strong> and <strong>PSDB</strong> spent the most during the weekend.</p>
</blockquote>
<p><br></p>
</div>
<div id="which-parties-had-most-of-their-expenditures-made-during-the-weekend" class="section level2">
<h2>Which parties had most of their expenditures made during the weekend?</h2>
<pre class="r"><code>data %&gt;%
  na.omit(is_weekend,
          sgPartido) %&gt;%
  group_by(sgPartido) %&gt;%
  mutate(total = sum(valorLíquido)) %&gt;% # calc total cost by party
  ungroup() %&gt;%
  group_by(total,
           sgPartido,
           is_weekend) %&gt;%                        # calc cost by weekdays
  summarize(total_cost = sum(valorLíquido)) %&gt;%   # and by weekends
  mutate(fract = total_cost/total) %&gt;%          # calc fraction
  filter(is_weekend) %&gt;% 
  ggplot(aes(reorder(sgPartido,fract),
             fract)) +
  geom_bar(stat=&quot;identity&quot;,
           fill=&quot;#00BFC4&quot;) +
    labs(x=&quot;Political parties&quot;,
       y=&quot;Percentage (%)&quot;,
       title=&quot;Expenditures during the weekend in R$&quot;) +
  scale_y_continuous(labels = scales::percent) +
  theme(axis.text.x = element_text(angle = 60,
                                   hjust = 1))</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<ul>
<li>Unexpectedly, we see as leader the party <strong>PRTB</strong> (ironically named Brazilian Labour Renewal Party) that made almost <span class="math inline">\(40\%\)</span> of its expenditures during the weekend.</li>
<li><strong>PT</strong> not only spent a great amount of money during the weekend as seen before, but had a substantial fraction of its expenditures made during the weekend.</li>
<li>We can see that parties like <strong>PV</strong> and <strong>PSC</strong> which were obscured in terms of overall expense, stand out as some of the parties who spent a good part of their budget during the weekend.</li>
</ul>
<blockquote>
<p><strong>PRTB</strong> was the party to have most of its expenditures made during the weekend.</p>
</blockquote>
<p><br></p>
<hr />
<p><br></p>
</div>
</div>
<div id="looking-at-the-cost-of-the-suppliers" class="section level1">
<h1>Looking at the cost of the suppliers</h1>
<p><br></p>
<div id="what-were-the-costliest-suppliers-in-terms-of-median-what-services-did-they-offer" class="section level2">
<h2>What were the costliest suppliers (in terms of median)? What services did they offer?</h2>
<p><br></p>
<div id="lets-separate-the-top-10-most-expensive-suppliers.-they-will-be-selected-by-their-median-cost-across-all-parties." class="section level5">
<h5>Let’s separate the top 10 most expensive suppliers. They will be selected by their median cost across all parties.</h5>
<pre class="r"><code>data %&gt;%
  mutate(fornecedor = toupper(fornecedor)) %&gt;%
  mutate(fornecedor = ifelse(         # shorten the name       
    fornecedor == &quot;TODDE ADVOGADOS E CONSULTORES ASSOCIADOS&quot;, 
    &quot;TODDE ADVOGADOS&quot;,
    fornecedor)) %&gt;%
  group_by(fornecedor,
           sgPartido,
           tipoDespesa) %&gt;%              # calc expense of each
  summarize(total_cost = sum(valorLíquido)) %&gt;% # supplier for each party
  ungroup() %&gt;%
  group_by(fornecedor) %&gt;%                           # calc median expense of
  mutate(median_expense = median(total_cost)) %&gt;% # each supplier (all parties)
  ungroup() -&gt; supplier_data

supplier_data %&gt;%
  select(fornecedor,
         median_expense,
         sgPartido,
         total_cost) %&gt;%
  sample_n(5)</code></pre>
<pre><code>## # A tibble: 5 x 4
##   fornecedor                            median_expense sgPartido total_cost
##   &lt;chr&gt;                                          &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;
## 1 EMPRESA GONTIJO DE TRANSPORTES LIMIT…          242.  PR             106. 
## 2 DM ALIMENTAÇAO SAUDAVEL                         84.5 PT              84.5
## 3 POSTO JAMBREIRO LTDA                           200   PSDB           100  
## 4 VIVO - TELEFONICA S.A                         1371.  PMDB          1371. 
## 5 AUTO POSTO ENTRE TREVOS                        200   PPS            220.</code></pre>
<ul>
<li>Now that we have the median cost of each supplier we can examine how the top 10 most expensive suppliers relate to the parties.</li>
</ul>
<p><br></p>
<pre class="r"><code>supplier_data %&gt;%
  select(median_expense) %&gt;%
  unique() %&gt;%
  arrange(desc(median_expense)) %&gt;%
  slice(10) -&gt; tenth_supplier # 10th biggest median cost

supplier_data %&gt;%
  group_by(fornecedor,
           sgPartido,
           tipoDespesa) %&gt;%
  filter(median_expense &gt;= tenth_supplier) %&gt;%  # filter top 10 suppliers
  ggplot(aes(reorder(fornecedor,
                     median_expense),
             total_cost,
             color=tipoDespesa)) +
  geom_boxplot() +
  labs(x=&quot;Supplier&quot;,
       y=&quot;Cost (R$)&quot;,
       color=NULL) +
  coord_flip()+
  theme(legend.position=&quot;bottom&quot;,
        legend.direction = &quot;vertical&quot;) +
    theme(legend.text=element_text(size=8),
           axis.text.y = element_text(size=8))</code></pre>
<p><img src="../../../post/ceap_own_questions_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p><br></p>
<ul>
<li>TAM and GOL which are both air flight companies have the most diverse behavior, accounting for the lowest cost in the top 10 but majoritarily being <em>the costliest suppliers of all</em>.
<ul>
<li>In terms of median the air flight companies <strong>TAM</strong> and <strong>GOL</strong> take first and second place as costliest suppliers of all with <span class="math inline">\(\color{red}{\text{Air Ticket Issuance}}\)</span></li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li>The rest of the suppliers are plainly less erratic.
<ul>
<li>Publicity and advertising companies such as <strong>STILO GRAFICA</strong> and <strong>GRAFICA SATELITE</strong> take the third and fourth place with <span class="math inline">\(\color{blue}{\text{Divulgation of parliamentary activity}}\)</span>.</li>
<li>The law firm <strong>Todde advogados e consultores associados</strong> takes the fifth place with <span class="math inline">\(\color{darkgreen}{\text{Consultancies, research and technical works}}\)</span></li>
</ul></li>
</ul>
<p><br></p>
<blockquote>
<p>The costliest suppliers of all were <strong>TAM</strong> and <strong>GOL</strong> with <em>Air Ticket Issuance</em></p>
</blockquote>
</div>
</div>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="../../../tags/ceap/">ceap</a>

  <a class="tag tag--primary tag--small" href="../../../tags/descriptive/">descriptive</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/10/analysis-on-brazilian-elections/" data-tooltip="Analysis on Brazilian elections">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/08/c.e.a.p-analysis/" data-tooltip="C.E.A.P Analysis">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Benardi Nunes. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/10/analysis-on-brazilian-elections/" data-tooltip="Analysis on Brazilian elections">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/08/c.e.a.p-analysis/" data-tooltip="C.E.A.P Analysis">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F2018%2F09%2Fc.e.a.p-analysis-suppliers-and-weekend-expenses%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F2018%2F09%2Fc.e.a.p-analysis-suppliers-and-weekend-expenses%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F2018%2F09%2Fc.e.a.p-analysis-suppliers-and-weekend-expenses%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Benardi Nunes</h4>
    
      <div id="about-card-bio"><strong>I&rsquo;ve been using Data Science to justify my coffe addiction.</strong></div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Computer Science Student
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Brazil
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/12/classification-of-candidates-in-brazilian-elections/">
                <h3 class="media-heading">Classification of candidates in Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis and Classification on a subset of data about polls for the 2006 and 2010 elections in Brazil for the “Câmara Federal de Deputados”. Data was taken from the TSE portal which originally encompassed approximately 7300 candidates.
 

 Data Overview The variables 
The response variable is the variable that you are interested in reaching conclusions about. A predictor variable is a variable used to predict another variable.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/11/analysis-with-regularization-on-brazilian-elections/">
                <h3 class="media-heading">Analysis with Regularization on Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis with multivariate Linear Regression on data about polls for the 2006 and 2010 elections in Brazil for the lower house (Câmara Federal de Deputados). Data was taken from the TSE portal and encompasses approximately 7300 candidates.
 

 Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about. A predictor variable is a variable used to predict another variable.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/10/analysis-on-brazilian-elections/">
                <h3 class="media-heading">Analysis on Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis with multivariate Linear Regression on data about polls for the 2006 and 2010 elections in Brazil for the “Câmara Federal de Deputados”. Data was taken from the TSE portal and encompasses approximately 7300 candidates.
 

 Data Overview 
Loading Data eleicoes_data &lt;- readr::read_csv( here::here(&#39;evidences/eleicoes_2006_e_2010.csv&#39;), progress = FALSE, local=readr::locale(&quot;br&quot;), col_types = cols( ano = col_integer(), sequencial_candidato = col_character(), quantidade_doacoes = col_integer(), quantidade_doadores = col_integer(), total_receita = col_double(), media_receita = col_double(), recursos_de_outros_candidatos.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
                <h3 class="media-heading">C.E.A.P analysis (suppliers and weekend expenses)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This exploratory data analysis was made based on data provided by the Brazilian government about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity). More information about it (in Portuguese) can be found in its official site
 

 Data Overview data &lt;- read_csv(here::here(&quot;evidences/dadosCEAP.csv&quot;), progress = F, col_types = cols( nomeParlamentar = col_character(), idCadastro = col_integer(), sgUF = col_character(), sgPartido = col_character(), tipoDespesa = col_character(), especDespesa = col_character(), fornecedor = col_character(), CNPJCPF = col_character(), tipoDocumento = col_integer(), dataEmissao = col_character(), valorDocumento = col_double(), valorGlosa = col_integer(), valorLíquido = col_double())) data %&gt;% mutate(dataEmissao = parse_date_time(dataEmissao,&quot;%Y-%m-%d %H:%M:%S&quot;), year_month = paste(lubridate::year(dataEmissao), # extract year lubridate::month(dataEmissao), # extract month sep = &quot;-&quot;), tipoDespesa = toupper(tipoDespesa)) -&gt; data state_info &lt;- read_csv(here::here(&quot;/evidences/limiteMensalCEAP.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/08/c.e.a.p-analysis/">
                <h3 class="media-heading">C.E.A.P Analysis</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This exploratory data analysis was made based on data provided by the Brazilian government about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity). More information about it (in Portuguese) can be found in its official site
 

 Data Overview data &lt;- read_csv(here::here(&quot;evidences/dadosCEAP.csv&quot;), progress = F, col_types = cols( nomeParlamentar = col_character(), idCadastro = col_integer(), sgUF = col_character(), sgPartido = col_character(), tipoDespesa = col_character(), especDespesa = col_character(), fornecedor = col_character(), CNPJCPF = col_character(), tipoDocumento = col_integer(), dataEmissao = col_character(), valorDocumento = col_double(), valorGlosa = col_integer(), valorLíquido = col_double())) data %&gt;% mutate(dataEmissao = parse_date_time(dataEmissao,&quot;%Y-%m-%d %H:%M:%S&quot;), year_month = paste(lubridate::year(dataEmissao), # extract year lubridate::month(dataEmissao), # extract month sep = &quot;-&quot;), tipoDespesa = toupper(tipoDespesa)) -&gt; data state_info &lt;- read_csv(here::here(&quot;/evidences/limiteMensalCEAP.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/08/multivariate-logistic-regression-on-speed-dating-data/">
                <h3 class="media-heading">Multivariate logistic regression on speed dating data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This report contains regression models created based on data describing 5000 speed dates of 4 minutes of duration involving 310 american young adults. The original data were collected by Columbia Business professors. Further information and the data itself can be found in this report repository.
 


Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/multivariate-linear-regression-on-speed-dating-data/">
                <h3 class="media-heading">Multivariate linear regression on speed dating data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This report contains regression models created based on data describing 5000 speed dates of 4 minutes of duration involving 310 american young adults. The original data were collected by Columbia Business School professors. Further information and the data itself can be found in this report repository.
 
Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/analysis-on-movielens-dataset-with-bootstrap/">
                <h3 class="media-heading">Analysis on MovieLens dataset with bootstrap</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This report is an analysis on the dataset movielens which can be found in full here. The code, data and a description of the variables used in this report can be found in the original repository
 

 Data Overview readr::read_csv(here::here(&quot;evidences/lens_movies.csv&quot;), progress = FALSE, col_types = cols( movieId = col_integer(), title = col_character(), genres = col_character() )) %&gt;% group_by(movieId) %&gt;% mutate(year = as.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/analysis-on-github-commits-2016-2017/">
                <h3 class="media-heading">Analysis on Github commits (2016-2017)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 The code and data employed here can be found at the original repository. The data employed on this report is a sample of the commits made on some of the repositories on Github each day from 2016 to 2017.
 
 Data Overview 
readr::read_csv(here::here(&quot;evidences/github-users-committing-filetypes.csv&quot;), progress = FALSE, col_types = cols( file_extension = col_character(), month_day = col_integer(), the_month = col_integer(), the_year = col_integer(), users = col_integer() )) -&gt; data data %&gt;% glimpse() ## Observations: 13,802 ## Variables: 5 ## $ file_extension &lt;chr&gt; &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;… ## $ month_day &lt;int&gt; 18, 17, 27, 16, 26, 21, 4, 22, 23, 1, 12, 3, 2, 2… ## $ the_month &lt;int&gt; 2, 2, 1, 2, 1, 3, 2, 2, 2, 2, 4, 2, 2, 2, 4, 3, 4… ## $ the_year &lt;int&gt; 2016, 2016, 2016, 2016, 2016, 2017, 2016, 2016, 2… ## $ users &lt;int&gt; 10279, 10208, 10118, 10045, 10020, 10015, 9991, 9…</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/case-based-reasoning-system-for-msrp-estimation/">
                <h3 class="media-heading">Case Based Reasoning System for MSRP estimation</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Employed data, scripts and a brief description can be found at the original repository. Further references can be found at the page of Prof. Ian Watson.
 library(FNN) library(here) library(magrittr) library(tidyverse) source(here::here(&quot;code/calc_KNN_error.R&quot;)) theme_set(theme_bw()) 

 Data Overview 
Data has the following attributes:
 Make: Make of the car; Model: Model of the car; Year: Manufacturing Date; Engine.Fuel.Type: Kind of fuel the engine runs on; Engine.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         17 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://benardi.github.io/myblog/images/cloudy-city.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="../../../js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/benardi.github.io\/myblog\/2018\/09\/c.e.a.p-analysis-suppliers-and-weekend-expenses\/';
          
            this.page.identifier = '\/2018\/09\/c.e.a.p-analysis-suppliers-and-weekend-expenses\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'https-benardi-github-io-myblog';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
    <script type="text/javascript" async
	  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	  MathJax.Hub.Config({
  	    messageStyle: 'none',
  	    showProcessingMessages: false,
	    tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']],
		processEscapes: true
	      }
	  });
	  MathJax.Hub.Queue(function() {
	    var i, text, code, codes = document.getElementsByTagName('code');
	    for (i = 0; i < codes.length;) {
	      code = codes[i];
	      if (code.parentNode.tagName !== 'PRE' &&
		  code.childElementCount === 0) {
		text = code.textContent;
		if (/^\\\((.|\s)+\\\)$/.test(text) ||
		    /^\$(.|\s)+\$$/.test(text) ||
		    /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
		  code.outerHTML = code.innerHTML;  
		  continue;
		}
	      }
	      i++;
	    }
	    });
	</script>
  </body>
</html>

