

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.54.0 with theme Tranquilpeak 0.4.3-BETA">
    <title>Analysis on MovieLens dataset with hypothesis testing</title>
    <meta name="author" content="Benardi Nunes">
    <meta name="keywords" content="">

    <link rel="icon" href="../../../favicon.png">
    

    
    <meta name="description" content="Analysis with statistical inference by hypothesis testing on data about movie ratings from the MovieLens dataset">
    <meta property="og:description" content="Analysis with statistical inference by hypothesis testing on data about movie ratings from the MovieLens dataset">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Analysis on MovieLens dataset with hypothesis testing">
    <meta property="og:url" content="/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
    <meta property="og:site_name" content="Me &#43; coffe &#43; data : a love ∆">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Me &#43; coffe &#43; data : a love ∆">
    <meta name="twitter:description" content="Analysis with statistical inference by hypothesis testing on data about movie ratings from the MovieLens dataset">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="../../../css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="../../../">Me &#43; coffe &#43; data : a love ∆</a>
  </div>
  
    
      <a class="header-right-picture "
         href="../../../#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="../../../#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Benardi Nunes</h4>
        
          <h5 class="sidebar-profile-bio"><strong>I&rsquo;ve been using Data Science to justify my coffe addiction.</strong></h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/Benardi" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/9077439/jos%C3%A9-benardi" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Analysis on MovieLens dataset with hypothesis testing
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
  January 1, 1

      </time>
    
    
  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              


<p><br></br></p>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p></br></p>
<blockquote>
<p>This report is an analysis on the dataset movielens which can be found in full <a href="https://grouplens.org/datasets/movielens/latest/">here</a>. The code, data, a description of the variables used in this report and another report employing Confidence Intervals on the same dataset can be found in the <a href="https://github.com/Benardi/movielens_analysis/">original repository</a></p>
</blockquote>
<p></br></p>
<hr />
<p></br></p>
</div>
<div id="data-overview" class="section level1">
<h1>Data Overview</h1>
<p></br></p>
<div id="loading-and-filtering-data" class="section level2">
<h2>Loading and filtering data</h2>
<pre class="r"><code>readr::read_csv(here::here(&quot;evidences/lens_movies.csv&quot;),
                progress = FALSE,
                col_types = cols(
                      movieId = col_integer(),
                      title = col_character(),
                      genres = col_character()
                    )) %&gt;% 
  group_by(movieId) %&gt;%
  mutate(year = as.numeric(sub(&quot;\\).*&quot;, &quot;&quot;,sub(&quot;.*\\(&quot;, &quot;&quot;, title))),
         num_genres = length(as.list(strsplit(genres,&#39;|&#39;,fixed = TRUE))[[1]]),
         homogeneous = num_genres == 1, # Deriving homogeneity
         xx_century = year &lt;= 2000
         ) %&gt;%  
  na.omit() %&gt;%
  ungroup() -&gt; movies

readr::read_csv(here::here(&quot;evidences/ratings.csv&quot;),
                progress = FALSE,
                col_types = cols(
                userId = col_integer(),
                movieId = col_integer(),
                rating = col_double(),
                timestamp = col_integer()
                )) %&gt;%
  na.omit() -&gt; ratings</code></pre>
<pre class="r"><code>dplyr::inner_join(
  movies,
  ratings,
  by=&quot;movieId&quot;) -&gt; data


data %&gt;%
  group_by(movieId) %&gt;%
  summarise(median_rating = median(rating), # Deriving whether a movies is well rated
            well_rated = median_rating &gt; 3.5) -&gt; summarised


dplyr::inner_join(
  summarised,
  data,
  by=&quot;movieId&quot;) -&gt; data

data %&gt;%
  glimpse()</code></pre>
<pre><code>## Observations: 99,997
## Variables: 12
## $ movieId       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
## $ median_rating &lt;dbl&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,…
## $ well_rated    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TR…
## $ title         &lt;chr&gt; &quot;Toy Story (1995)&quot;, &quot;Toy Story (1995)&quot;, &quot;Toy Story…
## $ genres        &lt;chr&gt; &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;, &quot;Ad…
## $ year          &lt;dbl&gt; 1995, 1995, 1995, 1995, 1995, 1995, 1995, 1995, 19…
## $ num_genres    &lt;int&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,…
## $ homogeneous   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, F…
## $ xx_century    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TR…
## $ userId        &lt;int&gt; 7, 9, 13, 15, 19, 20, 23, 26, 30, 37, 43, 44, 47, …
## $ rating        &lt;dbl&gt; 3.0, 4.0, 5.0, 2.0, 3.0, 3.5, 3.0, 5.0, 4.0, 4.0, …
## $ timestamp     &lt;int&gt; 851866703, 938629179, 1331380058, 997938310, 85519…</code></pre>
<pre class="r"><code>movies %&gt;%
  filter(title == &quot;Hamlet (2000)&quot;)</code></pre>
<pre><code>## # A tibble: 2 x 7
##   movieId title     genres           year num_genres homogeneous xx_century
##     &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;      &lt;int&gt; &lt;lgl&gt;       &lt;lgl&gt;     
## 1    3598 Hamlet (… Crime|Drama|Ro…  2000          4 FALSE       TRUE      
## 2   65665 Hamlet (… Drama            2000          1 TRUE        TRUE</code></pre>
<pre class="r"><code>data %&gt;%
  filter(movieId != 3598) -&gt; data</code></pre>
<ul>
<li>Looks like Hamlet was included twice. As Hamlet is clearly a Drama we’re gonna remove the entries that say otherwise.</li>
</ul>
<p><br></p>
</div>
<div id="checking-overall-data-consistency" class="section level2">
<h2>Checking overall data consistency</h2>
<pre class="r"><code>data %&gt;%
  group_by(movieId) %&gt;%
  slice(1) %&gt;%
  ggplot(aes(year)) +
  geom_bar() +
  labs(x=&quot;Movie Year&quot;,
       y=&quot;Absolute Frequency&quot;)</code></pre>
<p><img src="../../../post/hypothesis_testing_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<ul>
<li>There’s a whole lot of movies from the 2000’s.</li>
<li>There’s movies going as far as the first decade of the 1900’s.</li>
</ul>
<pre class="r"><code>data %&gt;%
  ggplot(aes(num_genres)) +
  geom_bar() +
  labs(x=&quot;Number of Genres&quot;,
       y=&quot;Absolute Frequency&quot;)</code></pre>
<p><img src="../../../post/hypothesis_testing_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<ul>
<li>Most movies have 2 or 3 genres.</li>
</ul>
<pre class="r"><code>data %&gt;%
  ggplot(aes(rating,y=..prop..)) +
  geom_bar() +
  labs(x=&quot;Movie Rating&quot;, 
       y=&quot;Relative Frequency&quot;)</code></pre>
<p><img src="../../../post/hypothesis_testing_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ul>
<li>There’s a lot of generous reviews, with 4 stars composing almost 30% of the ratings.</li>
</ul>
<p><br></p>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p><br></p>
<ul>
<li><p>Anomalous data filtered (i.e. Hamlet).</p></li>
<li><p>No data found violating expected range or categories.</p></li>
</ul>
<p><br></p>
<hr />
<p><br></p>
</div>
</div>
<div id="hypothesis-testing-considerations" class="section level1">
<h1>Hypothesis testing considerations</h1>
<p><br></p>
<div id="null-hypothesis" class="section level4">
<h4>Null hypothesis</h4>
<p>There’s an association in our sample (an estimate that can be observed), and we want to test whether this association in the sample is significant (it in fact exists) or is mere result of chance.<br />
To do so we use as reference a situation where there’s no association, we call this version of the sample the <em>null hypothesis</em>.</p>
<p><br></p>
</div>
<div id="permutation-test" class="section level4">
<h4>Permutation test</h4>
<p>In the case of the <em>permutation test</em> the association in the sample is nullified by applying a random process on it, and thus we generate a <em>null hypothesis</em>.</p>
<p><br></p>
</div>
<div id="hypothesis-testing" class="section level4">
<h4>Hypothesis testing</h4>
<ul>
<li>Firstly we observe an estimate in the data (An association).
<ul>
<li>If an estimate such as the one we observed in the sample happens easily in the <em>null hypothesis</em> (P-Values above alpha, see below) it means that we don’ have strong evidence of association. What we observed happens when there’s no association as well.</li>
<li>If an estimate such as the one we observed is improbable in the <em>null hypothesis</em> (P-Values below alpha, see below) we have an indicative of association. If an association as the one we observed in the sample (estimate) doesn’t happen when there’s no association, then there’s evidence of an association (<strong>Double negative</strong>).</li>
</ul></li>
</ul>
<p><br></p>
</div>
<div id="p-value" class="section level4">
<h4>P-Value</h4>
<p><strong>P-Value</strong> is the probability of the <em>null hypothesis</em> rendering an association such as the one we observed in the sample.</p>
<blockquote>
<p>The more times the <em>null hypothesis</em> succeds at creating estimates as extreme as the ones we observed in the sample the higher is the chance that the estimate/association we observed in the sample is merely result of chance, because chance ( <em>null hypothesis</em> ) is doing the same as our sample.</p>
</blockquote>
<p>We can phrase the <strong>P-Value</strong> in two ways:</p>
<ul>
<li>When we look at the <em>null hypothesis</em> <strong>P-Value</strong> is the proportion of the estimates produced by the <em>null hypothesis</em> that are as extreme as the one we observed in the sample.</li>
<li><strong>P-Value</strong> is the proportion of the behavior of the <em>null hypothesis</em> where it succeeds at repeating the association we observed in the sample.</li>
</ul>
<p><br></p>
</div>
<div id="significance-level-alpha" class="section level4">
<h4>Significance Level (Alpha)</h4>
<p>The significance level also denoted as alpha, is the probability of rejecting the null hypothesis when it is true. For example, a significance level of 0.05 indicates a 5% risk of concluding that a difference exists when there is no actual difference.</p>
<p>A more intuitive way to understand alpha may be that the smaller the alpha the more extreme the values the <em>null hypothesis</em> has to create for we to consider similar to the one we observed in the sample.</p>
<ul>
<li>It’s something of a culture around the community that uses Statistics to use a Alpha of 0.05 ( 5% risk of concluding that a difference exists when there is no actual difference).</li>
<li>While this somewhat magic number should be taken with a grain of salt, it’s still widely accepted outside tests that impact the safety of people (e.g. drug tests).</li>
</ul>
<blockquote>
<p>We will use a Significance Level (Alpha) of 0.05 throughout this analysis.</p>
</blockquote>
<p><br></p>
</div>
</div>
<div id="proportion-of-well-rated-movies" class="section level1">
<h1>Proportion of well rated movies</h1>
<p><br></p>
<div id="is-there-a-difference-in-the-proportion-of-well-rated-movies-when-we-compare-movies-from-xx-and-xxi-century" class="section level4">
<h4>Is there a difference in the proportion of well rated movies when we compare movies from XX and XXI century?</h4>
<p><br></p>
<ul>
<li>Movies are considered well rated when they have been rated above 2.5 stars in terms of median.</li>
<li>We will use as estimator the unpaired difference of the proportion of well rated (TRUE - FALSE):
<ul>
<li><strong>The proportion of well rated of movies from the XX century minus the proportion of well rated of movies from the XXI century</strong>. movies when we compare movies from XX and XXI century.</li>
</ul></li>
<li>As mentioned early we will use alpha (Confidence Level) at 0.05</li>
</ul>
<p><br></p>
<div id="null-hypothesis-theres-no-significant-difference-in-the-proportion-of-well-rated-movies-between-movies-from-the-xx-and-xxi-century." class="section level5">
<h5><strong><em>Null hypothesis:</em></strong> There’s no significant difference in the proportion of well rated movies between movies from the XX and XXI century.</h5>
</div>
<div id="alternative-hypothesis-theres-significant-difference-in-the-proportion-of-well-rated-movies-between-movies-from-the-xx-and-xxi-century" class="section level5">
<h5><strong><em>Alternative hypothesis:</em></strong> There’s significant difference in the proportion of well rated movies between movies from the XX and XXI century</h5>
<p><br></p>
</div>
</div>
<div id="lets-do-it-manually" class="section level3">
<h3>Let’s do it manually</h3>
<pre class="r"><code>data %&gt;%
group_by(xx_century) %&gt;%
  filter(well_rated) %&gt;%
  summarise(n = n()) -&gt; y  

data %&gt;%  
  group_by(xx_century) %&gt;%
  summarise(n = n()) -&gt; total 

  prop1 &lt;- y[y$xx_century == TRUE,]$n / total[total$xx_century == TRUE,]$n
  prop2 &lt;- y[y$xx_century == FALSE,]$n / total[total$xx_century == FALSE,]$n

diff.prop.obsrvd = prop1 - prop2  
print(paste(&quot;Observed difference in proportion:&quot;,diff.prop.obsrvd))</code></pre>
<pre><code>## [1] &quot;Observed difference in proportion: 0.0440275843541961&quot;</code></pre>
<ul>
<li>Estimate observed in the sample</li>
</ul>
<pre class="r"><code>diffs &lt;- replicate(5000, {
  data %&gt;%
  mutate(century_shuffled = sample(xx_century, n())) -&gt; temp
  
  temp %&gt;%
  group_by(century_shuffled) %&gt;%
    filter(well_rated) %&gt;%
    summarise(n = n()) -&gt; y  
  
  temp %&gt;%  
    group_by(century_shuffled) %&gt;%
    summarise(n = n()) -&gt; total 
  
    prop1 &lt;- y[y$century_shuffled == TRUE,]$n / total[total$century_shuffled == TRUE,]$n
    prop2 &lt;- y[y$century_shuffled == FALSE,]$n / total[total$century_shuffled == FALSE,]$n
      
    return(prop1 - prop2)
  })

glimpse(diffs)</code></pre>
<pre><code>##  num [1:5000] -0.00242 -0.00137 0.00126 -0.00353 0.00411 ...</code></pre>
<ul>
<li>diffs corresponds to the <strong>difference in proportion</strong> (estimate) calculated from the <em>null hypothesis</em></li>
</ul>
<pre class="r"><code>tibble(diferenca = diffs) %&gt;% 
  ggplot(aes(x = diferenca)) + 
  geom_histogram(bins = 30, 
                 fill= &quot;grey&quot;,
                 color=&quot;black&quot;) + 
  geom_vline(xintercept = diff.prop.obsrvd,
             color = &quot;darkgreen&quot;,
             size = 2) </code></pre>
<p><img src="../../../post/hypothesis_testing_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code># p-valor
pvalue = sum(abs(diffs) &gt;= abs(diff.prop.obsrvd)) / length(diffs)
print(paste(&quot;The P-Value is approximately: &quot;,pvalue))</code></pre>
<pre><code>## [1] &quot;The P-Value is approximately:  0&quot;</code></pre>
<p><br></p>
<ul>
<li><p>The small P-Value (approximately 0) is far below the chosen <strong>alpha</strong> (0.05), which indicates that an association is indeed present, therefore at a confidence level of 95% we reject the null hypothesis, thus we adopt the alternative hypothesis that there’s a statistically significant difference between the proportion of well rated movies of movies from the XX century and movies from the XXI century.</p></li>
<li><p>In accordance to our previous results employing a <strong>Confidence Interval</strong> our results using a <em>two tailed permutation test</em> do suggest that there’s in fact an association.</p></li>
</ul>
<p><br></p>
</div>
<div id="lets-use-the-resample-package" class="section level3">
<h3>Let’s use the resample package</h3>
<pre class="r"><code>permutationTest2(data = data,
                 R=5000,
                 statistic = prop.table(table(well_rated))[2],
                 treatment = xx_century)</code></pre>
<pre><code>## &lt;resample [0 x NA]&gt;</code></pre>
<p><br></p>
<ul>
<li><p>The <em>two tailed permutation test</em> rendered a <strong>P-Value</strong> (0.00039992) far below the chosen <strong>alpha</strong> (0.05) which indicates that an association is indeed present, therefore at a confidence level of 95% we reject the null hypothesis, thus we adopt the alternative hypothesis that there’s a statistically significant difference between the proportion of well rated movies of movies from the XX century and movies from the XXI century.</p></li>
<li>The observed proportion of well rated of movies from the XXI century minus the proportion of well rated of movies from the XX century rendered a negative value (mind the inversion made by the function): FALSE-TRUE -0.04402758.
<ul>
<li>In other words the XX century has a higher proportion of well rated movies than the XXI century.</li>
</ul></li>
<li><p>In accordance to our previous results employing a <strong>Confidence Interval</strong> our results using a <em>two tailed permutation test</em> do suggest that there’s in fact an association, furthermore the observed estimate agrees with the previous results employing a <strong>Confidence Interval</strong> where the XX century had a higher proportion of well rated movies than the XXI century</p></li>
</ul>
<p><br></p>
</div>
<div id="lets-use-the-coin-package" class="section level3">
<h3>Let’s use the coin package</h3>
<pre class="r"><code>independence_test(well_rated ~ xx_century, 
                  data = data)</code></pre>
<pre><code>## 
##  Asymptotic General Independence Test
## 
## data:  well_rated by xx_century
## Z = 12.23, p-value &lt; 2.2e-16
## alternative hypothesis: two.sided</code></pre>
<p><br></p>
<ul>
<li><p>The <em>two tailed permutation test</em> rendered a <strong>P-Value</strong> (2.2e-16) far below the chosen <strong>alpha</strong> (0.05) which indicates that an association is indeed present, therefore at a confidence level of 95% we reject the null hypothesis, thus we adopt the alternative hypothesis that there’s a statistically significant difference between the proportion of well rated movies of movies from the XX century and movies from the XXI century.</p></li>
<li><p>Once again we have results that agree with our previous results employing a <strong>Confidence Interval</strong>.</p></li>
</ul>
<p><br></p>
</div>
</div>
<div id="c.i-vs-hypothesis-testing" class="section level1">
<h1>C.I vs Hypothesis Testing</h1>
<p><br></p>
<p>As said at the introduction of this report, this very data-set was analyzed using <em>confidence intervals</em> as well. So now that both tools have been used remains the question? What’s the difference?</p>
<p>Both C.I. and Hypothesis Testing may help us weight whether:</p>
<ul>
<li>A is significantly different from B
<ul>
<li>(A != B)</li>
</ul></li>
<li>A is significantly bigger than B
<ul>
<li>(A &gt; B)</li>
</ul></li>
<li>A is significantly smaller than B
<ul>
<li>(A &lt; B)</li>
</ul></li>
</ul>
<p>However when we employ Hypothesis Testing we have no practical implication of the magnitude of the finding, in other words we can’t possibly say how much bigger A is than B, or how much smaller A is than B (the relevance of the finding). Notice that at no point in this report we commented on terms of relevance.</p>
<blockquote>
<p>With Hypothesis Testing you can pretty much only discuss whether the effect is present or not, while with Confidence Intervals we can also talk about the magnitude of the effect. In other words with Confidence Intervals we can talk not only about the significancy of an effect but about it’s relevance.</p>
</blockquote>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="../../../tags/descriptive/">descriptive</a>

  <a class="tag tag--primary tag--small" href="../../../tags/movielens/">movielens</a>

  <a class="tag tag--primary tag--small" href="../../../tags/hypothesis-testing/">hypothesis-testing</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/04/chakrans-and-dragons-on-imdb/" data-tooltip="Chakrans and Dragons on IMDB">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Benardi Nunes. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2018/04/chakrans-and-dragons-on-imdb/" data-tooltip="Chakrans and Dragons on IMDB">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://benardi.github.io/myblog/1/01/analysis-on-movielens-dataset-with-hypothesis-testing/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F1%2F01%2Fanalysis-on-movielens-dataset-with-hypothesis-testing%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F1%2F01%2Fanalysis-on-movielens-dataset-with-hypothesis-testing%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fbenardi.github.io%2Fmyblog%2F1%2F01%2Fanalysis-on-movielens-dataset-with-hypothesis-testing%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7a84d495ef0ea797859a5e111d8ddf03?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Benardi Nunes</h4>
    
      <div id="about-card-bio"><strong>I&rsquo;ve been using Data Science to justify my coffe addiction.</strong></div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Computer Science Student
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Brazil
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/12/classification-of-candidates-in-brazilian-elections/">
                <h3 class="media-heading">Classification of candidates in Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis and Classification on a subset of data about polls for the 2006 and 2010 elections in Brazil for the “Câmara Federal de Deputados”. Data was taken from the TSE portal which originally encompassed approximately 7300 candidates.
 

 Data Overview The variables 
The response variable is the variable that you are interested in reaching conclusions about. A predictor variable is a variable used to predict another variable.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/11/analysis-with-regularization-on-brazilian-elections/">
                <h3 class="media-heading">Analysis with Regularization on Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis with multivariate Linear Regression on data about polls for the 2006 and 2010 elections in Brazil for the lower house (Câmara Federal de Deputados). Data was taken from the TSE portal and encompasses approximately 7300 candidates.
 

 Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about. A predictor variable is a variable used to predict another variable.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/10/analysis-on-brazilian-elections/">
                <h3 class="media-heading">Analysis on Brazilian elections</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Data Analysis with multivariate Linear Regression on data about polls for the 2006 and 2010 elections in Brazil for the “Câmara Federal de Deputados”. Data was taken from the TSE portal and encompasses approximately 7300 candidates.
 

 Data Overview 
Loading Data eleicoes_data &lt;- readr::read_csv( here::here(&#39;evidences/eleicoes_2006_e_2010.csv&#39;), progress = FALSE, local=readr::locale(&quot;br&quot;), col_types = cols( ano = col_integer(), sequencial_candidato = col_character(), quantidade_doacoes = col_integer(), quantidade_doadores = col_integer(), total_receita = col_double(), media_receita = col_double(), recursos_de_outros_candidatos.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/09/c.e.a.p-analysis-suppliers-and-weekend-expenses/">
                <h3 class="media-heading">C.E.A.P analysis (suppliers and weekend expenses)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This exploratory data analysis was made based on data provided by the Brazilian government about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity). More information about it (in Portuguese) can be found in its official site
 

 Data Overview data &lt;- read_csv(here::here(&quot;evidences/dadosCEAP.csv&quot;), progress = F, col_types = cols( nomeParlamentar = col_character(), idCadastro = col_integer(), sgUF = col_character(), sgPartido = col_character(), tipoDespesa = col_character(), especDespesa = col_character(), fornecedor = col_character(), CNPJCPF = col_character(), tipoDocumento = col_integer(), dataEmissao = col_character(), valorDocumento = col_double(), valorGlosa = col_integer(), valorLíquido = col_double())) data %&gt;% mutate(dataEmissao = parse_date_time(dataEmissao,&quot;%Y-%m-%d %H:%M:%S&quot;), year_month = paste(lubridate::year(dataEmissao), # extract year lubridate::month(dataEmissao), # extract month sep = &quot;-&quot;), tipoDespesa = toupper(tipoDespesa)) -&gt; data state_info &lt;- read_csv(here::here(&quot;/evidences/limiteMensalCEAP.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/08/c.e.a.p-analysis/">
                <h3 class="media-heading">C.E.A.P Analysis</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This exploratory data analysis was made based on data provided by the Brazilian government about the expenses allowed to its parliamentarians or C.E.A.P. (Cota para o Exercício da Atividade Parlamentar / Quota for the Exercise of Parliamentary Activity). More information about it (in Portuguese) can be found in its official site
 

 Data Overview data &lt;- read_csv(here::here(&quot;evidences/dadosCEAP.csv&quot;), progress = F, col_types = cols( nomeParlamentar = col_character(), idCadastro = col_integer(), sgUF = col_character(), sgPartido = col_character(), tipoDespesa = col_character(), especDespesa = col_character(), fornecedor = col_character(), CNPJCPF = col_character(), tipoDocumento = col_integer(), dataEmissao = col_character(), valorDocumento = col_double(), valorGlosa = col_integer(), valorLíquido = col_double())) data %&gt;% mutate(dataEmissao = parse_date_time(dataEmissao,&quot;%Y-%m-%d %H:%M:%S&quot;), year_month = paste(lubridate::year(dataEmissao), # extract year lubridate::month(dataEmissao), # extract month sep = &quot;-&quot;), tipoDespesa = toupper(tipoDespesa)) -&gt; data state_info &lt;- read_csv(here::here(&quot;/evidences/limiteMensalCEAP.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/08/multivariate-logistic-regression-on-speed-dating-data/">
                <h3 class="media-heading">Multivariate logistic regression on speed dating data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This report contains regression models created based on data describing 5000 speed dates of 4 minutes of duration involving 310 american young adults. The original data were collected by Columbia Business professors. Further information and the data itself can be found in this report repository.
 


Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/multivariate-linear-regression-on-speed-dating-data/">
                <h3 class="media-heading">Multivariate linear regression on speed dating data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This report contains regression models created based on data describing 5000 speed dates of 4 minutes of duration involving 310 american young adults. The original data were collected by Columbia Business School professors. Further information and the data itself can be found in this report repository.
 
Data Overview 
The variables 
The response variable is the variable that you are interested in reaching conclusions about.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/analysis-on-movielens-dataset-with-bootstrap/">
                <h3 class="media-heading">Analysis on MovieLens dataset with bootstrap</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 This report is an analysis on the dataset movielens which can be found in full here. The code, data and a description of the variables used in this report can be found in the original repository
 

 Data Overview readr::read_csv(here::here(&quot;evidences/lens_movies.csv&quot;), progress = FALSE, col_types = cols( movieId = col_integer(), title = col_character(), genres = col_character() )) %&gt;% group_by(movieId) %&gt;% mutate(year = as.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/analysis-on-github-commits-2016-2017/">
                <h3 class="media-heading">Analysis on Github commits (2016-2017)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 The code and data employed here can be found at the original repository. The data employed on this report is a sample of the commits made on some of the repositories on Github each day from 2016 to 2017.
 
 Data Overview 
readr::read_csv(here::here(&quot;evidences/github-users-committing-filetypes.csv&quot;), progress = FALSE, col_types = cols( file_extension = col_character(), month_day = col_integer(), the_month = col_integer(), the_year = col_integer(), users = col_integer() )) -&gt; data data %&gt;% glimpse() ## Observations: 13,802 ## Variables: 5 ## $ file_extension &lt;chr&gt; &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;md&quot;, &quot;… ## $ month_day &lt;int&gt; 18, 17, 27, 16, 26, 21, 4, 22, 23, 1, 12, 3, 2, 2… ## $ the_month &lt;int&gt; 2, 2, 1, 2, 1, 3, 2, 2, 2, 2, 4, 2, 2, 2, 4, 3, 4… ## $ the_year &lt;int&gt; 2016, 2016, 2016, 2016, 2016, 2017, 2016, 2016, 2… ## $ users &lt;int&gt; 10279, 10208, 10118, 10045, 10020, 10015, 9991, 9…</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://benardi.github.io/myblog/2018/07/case-based-reasoning-system-for-msrp-estimation/">
                <h3 class="media-heading">Case Based Reasoning System for MSRP estimation</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Introduction 
 Employed data, scripts and a brief description can be found at the original repository. Further references can be found at the page of Prof. Ian Watson.
 library(FNN) library(here) library(magrittr) library(tidyverse) source(here::here(&quot;code/calc_KNN_error.R&quot;)) theme_set(theme_bw()) 

 Data Overview 
Data has the following attributes:
 Make: Make of the car; Model: Model of the car; Year: Manufacturing Date; Engine.Fuel.Type: Kind of fuel the engine runs on; Engine.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         17 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://benardi.github.io/myblog/images/cloudy-city.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="../../../js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/benardi.github.io\/myblog\/1\/01\/analysis-on-movielens-dataset-with-hypothesis-testing\/';
          
            this.page.identifier = '\/1\/01\/analysis-on-movielens-dataset-with-hypothesis-testing\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'https-benardi-github-io-myblog';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
    <script type="text/javascript" async
	  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	  MathJax.Hub.Config({
  	    messageStyle: 'none',
  	    showProcessingMessages: false,
	    tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']],
		processEscapes: true
	      }
	  });
	  MathJax.Hub.Queue(function() {
	    var i, text, code, codes = document.getElementsByTagName('code');
	    for (i = 0; i < codes.length;) {
	      code = codes[i];
	      if (code.parentNode.tagName !== 'PRE' &&
		  code.childElementCount === 0) {
		text = code.textContent;
		if (/^\\\((.|\s)+\\\)$/.test(text) ||
		    /^\$(.|\s)+\$$/.test(text) ||
		    /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
		  code.outerHTML = code.innerHTML;  
		  continue;
		}
	      }
	      i++;
	    }
	    });
	</script>
  </body>
</html>

